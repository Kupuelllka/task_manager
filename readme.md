# Task Service API

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–ª–≥–æ–∏–≥—Ä–∞—é—â–∏–º–∏ I/O bound –∑–∞–¥–∞—á–∞–º–∏ —Å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –ø–∞–º—è—Ç–∏

## üìå –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –°–æ–∑–¥–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á (3-5 –º–∏–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á
- –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- In-memory —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Ä—Ç 8080)
go run main.go

# –ò–ª–∏ —Å —Å–±–æ—Ä–∫–æ–π
go build -o task-service && ./task-service
–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã:
```
–í –∫–æ–Ω—Å–æ–ª–∏

–í —Ñ–∞–π–ª–µ task_service.log

üì° API Endpoints
1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
Endpoint:
POST /tasks/create

Request:
POST /tasks/create HTTP/1.1
Host: localhost:8080

Response:
HTTP/1.1 201 Created
Content-Type: application/json
```json
{
  "id": "task_123456789",
  "status": "pending",
  "created_at": "2023-06-20T14:30:00Z"
}
```
2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏
Endpoint:
GET /tasks/get?id=<task_id>

Request:
GET /tasks/get?id=task_123456789 HTTP/1.1
Host: localhost:8080

Response (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ):
HTTP/1.1 200 OK
Content-Type: application/json
```json
{
  "id": "task_123456789",
  "status": "processing",
  "created_at": "2023-06-20T14:30:00Z",
  "started_at": "2023-06-20T14:30:01Z",
  "duration": 150000000000
}
```
Response (–∑–∞–≤–µ—Ä—à–µ–Ω–æ):

```json
{
  "id": "task_123456789",
  "status": "completed",
  "created_at": "2023-06-20T14:30:00Z",
  "started_at": "2023-06-20T14:30:01Z",
  "finished_at": "2023-06-20T14:33:45Z",
  "duration": 225000000000,
  "result": "–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á–∏ task_123456789"
}
```
3. –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
Endpoint:
DELETE /tasks/delete?id=<task_id>

Request:
DELETE /tasks/delete?id=task_123456789 HTTP/1.1
Host: localhost:8080
Response:
HTTP/1.1 204 No Content

# üõ† –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
cURL
bash
## –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
curl -X POST http://localhost:8080/tasks/create

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl "http://localhost:8080/tasks/get?id=task_123456789"

## –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
curl -X DELETE "http://localhost:8080/tasks/delete?id=task_123456789"

## –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
http POST :8080/tasks/create

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
http GET :8080/tasks/get id==task_123456789

## –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
http DELETE :8080/tasks/delete id==task_123456789

# –¢–µ—Å—Ç—ã
–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
go test -v ./...
```
## –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç:
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á
- –ü—Ä–æ–≤–µ—Ä–∫—É —Å—Ç–∞—Ç—É—Å–æ–≤
- –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á
- –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–¥–∞—á–∏
- –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

# üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
## –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ):

- error    - –¢–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- info     - –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (+error)
- debug    - –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ (+info+error)
- debug-raw- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è

–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞:

``` service.log
2023/06/20 14:30:00 [INFO] Created task: task_123456789
2023/06/20 14:30:01 [DEBUG] Processing started: task_123456789
2023/06/20 14:33:45 [INFO] Task completed: task_123456789 (duration: 3m45s)
```

# üîÆ Roadmap
- –î–æ–±–∞–≤–∏—Ç—å graceful shutdown
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Prometheus –º–µ—Ç—Ä–∏–∫–∏
- –î–æ–±–∞–≤–∏—Ç—å JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- WebSocket –¥–ª—è push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

